<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Moja apka</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#000000">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial; max-width: 400px; margin: auto; padding: 20px; }
    label { display: block; margin-top: 15px; }
    input, select { width: 100%; padding: 8px; margin-top: 5px; }
    button { margin-top: 20px; padding: 10px; width: 100%; font-weight: bold; cursor: pointer; }
    span.value { font-weight: bold; }
  </style>
</head>
<body>
  <h2>WprowadÅº dane do dowodu</h2>

  <input id="imie" placeholder="ImiÄ™">
  <input id="nazwisko" placeholder="Nazwisko">
  <input id="birthdate" type="date" placeholder="Data urodzenia">
  <input id="pesel" placeholder="PESEL">
  <input id="ojciec" placeholder="ImiÄ™ ojca">
  <input id="matka" placeholder="ImiÄ™ matki">
  <input id="miejsce" placeholder="Miejsce urodzenia">
  <input id="adres1" placeholder="Ulica i nr domu">
  <input id="adres2" placeholder="Kod i miejscowoÅ›Ä‡">
  <input id="dataZameldowania" type="date" placeholder="Data zameldowania">
  
  <label>ZdjÄ™cie: </label>
  <input type="file" id="zdjecie" accept="image/*">

  <button id="zapisz">Zapisz i pokaÅ¼ dowÃ³d</button>

  <script>
    document.getElementById("zapisz").addEventListener("click", async () => {
      function set(k,v){ localStorage.setItem(k,v); }

      const imie = document.getElementById("imie").value;
      const nazwisko = document.getElementById("nazwisko").value;
      const birthdate = document.getElementById("birthdate").value;
      const pesel = document.getElementById("pesel").value;
      const ojciec = document.getElementById("ojciec").value;
      const matka = document.getElementById("matka").value;
      const miejsce = document.getElementById("miejsce").value;
      const adres1 = document.getElementById("adres1").value;
      const adres2 = document.getElementById("adres2").value;
      const dataZameldowania = document.getElementById("dataZameldowania").value;

      set("dane1", imie);
      set("dane2", nazwisko);
      set("birthdate", birthdate);
      set("pesel", pesel);
      set("daneOjca", ojciec);
      set("daneMatki", matka);
      set("miejsceUrodzenia", miejsce);
      set("adres", adres1 + "|" + adres2);
      set("dataZameldowania", dataZameldowania);

      // ðŸ“¸ zdjÄ™cie â†’ base64
      const file = document.getElementById("zdjecie").files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          localStorage.setItem("zdjecie", e.target.result);
          window.location.href = "dowodnowy.html";
        };
        reader.readAsDataURL(file);
      } else {
        window.location.href = "dowodnowy.html";
      }
    });
  </script>

</html></body>
